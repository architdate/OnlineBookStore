<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Bookstore</title>
   <link href="/static/custom.css" rel="stylesheet">
   
       <!-- Bootstrap core CSS -->
    <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
	<!-- Bootstrap core JavaScript -->
	<!-- href="{{ url_for('static', filename='vendor\bootstrap\js\bootstrap.bundle.min.js') }}" -->
    <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
	<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    <!-- Custom fonts for this template -->
    <link href="{{ url_for('static', filename='vendor/font-awesome/css/font-awesome.min.css') }}" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link 	href="{{ url_for('static', filename='css/landing_page.css') }}" rel="stylesheet">


</head>

<body>
   <style>
    table {
        border-spacing: 0;
        width: 100%;
        border: 1px solid #ddd;
    }

    th {
        cursor: pointer;
    }

    th, td {
        text-align: left;
        padding: 16px;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2
    }
        button.accordion {
        background-color: #eee;
        color: #444;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        text-align: left;
        outline: none;
        font-size: 15px;
        transition: 0.4s;
    }

    button.accordion.active, button.accordion:hover {
        background-color: #ccc;
    }

    button.accordion:after {
        content: '\002B';
        color: #777;
        font-weight: bold;
        float: right;
        margin-left: 5px;
    }

    button.accordion.active:after {
        content: "\2212";
    }

    div.panel {
        padding: 0 18px;
        background-color: white;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
    }
    </style>


<div class="container">
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container">
        <a class="navbar-brand" href= "#About">The BookStore</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
			  <a class="nav-item nav-link" href="/">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
			  <a class="nav-item nav-link" href="/browse/">Browse</a>
            </li>
            <li class="nav-item">
			  <a class="nav-item nav-link" href="/getrecord/">Profile</a>
            </li>
			<li class="nav-item">
			 {{ manager|safe }}
            </li>
			<li class="nav-item">
				<a class="nav-item nav-link" href="/logout">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  
<!-- This is the section where the book table is returned -->
    <br>
	<div style = "height: 300px; overflow-y: scroll;">
    {{ booktable|safe }}
	</div>
    <br>
    <br>
	

	
<div>
              <ul class="nav nav-tabs">
                <li class="list-inline-item" >
                <a data-toggle="tab" href="#FeedBack"class="btn btn-secondary btn-lg">
                <span>Give Feedback</span></a>
                </li>

                <li class="list-inline-item" >
                <a data-toggle="tab" href="#Comments" class="btn btn-secondary btn-lg">
                <span>View Comments </span></a>
                </li>
				
				<li class="list-inline-item" >
                <a data-toggle="tab" href="#Rate" class="btn btn-secondary btn-lg">
                <span>Rate Feedback</span></a>
                </li>
				
				<li class="list-inline-item" >
                <a data-toggle="tab" href="#Order" class="btn btn-secondary btn-lg">
                <span>Order</span></a>
                </li>
              </ul>

<div class="tab-content" style = "height: 800px">
	<div id="FeedBack" class="tab-pane fade in active show">
		<form class="form-horizontal" action="." method="POST">
			<fieldset>
				<br>
                    <legend class="section-heading" > <h2>Feedback for Book</h2></legend>
                    <div>
                      <!-- ISBN-13 -->
                      <label class="control-label" >Book ISBN-13</label>
                      <div class="controls">
                        <input  type="text" name="feedback_isbn13" placeholder="ISBN13" required>
                      </div>
                    </div>
					<br>                    
					
					<div>
                      <!-- score -->
                      <label class="control-label"  >Score from 1 to 10</label>
                      <div class="controls">
						<input type="number" min="0" max="10" name="score" placeholder="score" required>
                      </div>
                    </div>
					<br>					
					
					<div>
                      <!-- comment -->
					  
                      <label class="control-label" >Comments</label>
                      <div class="controls">
						<p>Enter your feedback details below.</p>
						<input type="text" name="comment" placeholder="comment (optional)">
                      </div>
                    </div>
					<br>                      
					
                      <div class="controls">
						<input type="submit" name="my-form" value="Feedback" required>
                      </div>
					<br>
			</fieldset>
		</form>
	</div>
	
	
	<div id="Comments" class="tab-pane fade">
		<form class="form-horizontal" action="." method="POST">
			<fieldset>
				<br>
                    <legend class="section-heading" ><h2>Check out what others feel about this book</h2></legend>
                    <div>
                      <!-- ISBN-13 -->
                      <label class="control-label" >Book ISBN-13</label>
                      <div class="controls">
                        <input  type="text" name="topfeedback_isbn13" placeholder="ISBN13" required>
                      </div>
                    </div>
					<br>                    					
														   							
					<div>
                      <!-- comment -->					  
                      <label class="control-label" >Get top feedback</label>
                      <div class="controls">
						<input type="number" min="1" name="topfeedback" placeholder="number" required>
                      </div>
                    </div>
					<br>   
                   					
                      <div class="controls">
						<input type="submit" name="my-form" value="Get Top Feedback" required>
                      </div>
					<br>
			</fieldset>
		</form>
	</div>	
	
	<div id="Rate" class="tab-pane fade">
		<form class="form-horizontal" action="." method="POST">
			<fieldset>
				<br>
                    <legend class="section-heading" ><h2>Rate Feedback</h2></legend>
					<p>Pick the feedback you wish to rate below. 0 for useless, 1 for useful, 2 for very useful.</p>
                    <div>
                      <!-- ISBN-13 -->
                      <label class="control-label" >Username</label>
                      <div class="controls">
						<input type="text" id = "login_name" name="login_name" placeholder="Name" required>
                      </div>
                    </div>
					<br>                    
										
					<div>
                      <!-- score -->
                      <label class="control-label"  >Book ISBN-13</label>
                      <div class="controls">
						<input type="text" name="rate_isbn13" placeholder="ISBN13" required>
                      </div>
                    </div>
					<br>					
														   							
					<div>
                      <!-- comment -->					  
                      <label class="control-label" >Rate feedback</label>
                      <div class="controls">
						<p>How do you feel about this feedback?</p>
						<input type="number" min="0" max="2" step="1" name="rating" placeholder="Rating" required>
                      </div>
                    </div>
					<br>                      
					
                      <div class="controls">
						<input type="submit" name="my-form" value="Rate" required>
                      </div>
					<br>
			</fieldset>
		</form>
	</div>	
	
	
	<div id="Order" class="tab-pane fade">
		<form class="form-horizontal" action="/browse/order"  method="POST">
			<fieldset>
				<br>
                    <legend class="section-heading" ><h2>Order Books</h2></legend>
					<p>Enter your order details below.</p>
					<p>Please separate your orders with commas(',') without any spaces.</p>
                    <div>
                      <!-- ISBN-13 -->
                      <label class="control-label" >Book ISBN-13</label>
                      <div class="controls">
						<input type="text" name="isbn13" placeholder="ISBN13" required>
                      </div>
                    </div>
					<br>                    
						
					<div>
                      <!-- score -->
                      <label class="control-label" >Number of copies</label>
                      <div class="controls">
						<input type="text" name="copies" placeholder="number of copies" required>
					  </div>
                    </div>
					<br>																			   					                 					
                      <div class="controls">
						<input type="submit" name="my-form" value="Order" required>
                      </div>
					<br>
			</fieldset>
		</form>
	</div>
</div>
</div>
</body>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js" integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK" crossorigin="anonymous"></script>

<script>
var browseTable = document.getElementById( 'BrowseTable' );
	
if(browseTable != null){

browseTable.addEventListener( 'click', function( evt ) {
    var target = evt.target;//Clicked the table's "TD"
    
    if ( target.nodeName != 'TD' )
        return;
    
    var columns = target.parentNode.getElementsByTagName( 'td' );
	console.log("row clicked");
	isbn = columns[0].innerHTML;

	var isbn0 = document.getElementsByName("feedback_isbn13")[0]
	var isbn1 = document.getElementsByName("isbn13")[0]
	var isbn2 = document.getElementsByName("topfeedback_isbn13")[0]

	isbn0.value = isbn
	isbn1.value = isbn
	isbn2.value = isbn	
	<!-- TODO: Check if the tab state is in order then just concatenate the titles/ ISBN-->
} );
}

var FeedbackTable = document.getElementById( 'FeedbackTable' );
if(FeedbackTable != null){

	FeedbackTable.addEventListener( 'click', function( evt ) {
    var target = evt.target;//Clicked the table's "TD"
    
    if ( target.nodeName != 'TD' )
        return;
    
    var columns = target.parentNode.getElementsByTagName( 'td' );
	console.log("row clicked");
	var username = columns[0].innerHTML;
	var isbn = columns[2].innerHTML;

	var isbn0 = document.getElementsByName("rate_isbn13")[0];
	var name = document.getElementById("login_name");

	isbn0.value = isbn;
	name.value = username;
	<!-- TODO: Check if the tab state is in order then just concatenate the titles/ ISBN-->
} );
}

</script>

</html>
